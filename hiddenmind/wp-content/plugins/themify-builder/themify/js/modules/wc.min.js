(($,n,d,_,f,p)=>{"use strict";let c=!1,w=!1,m=d.querySelector("form.variations_form select"),g=[];const o=f.wc_version,u=f.wc_js["wc-add-to-cart-variation"],y=f.wc_js.wc_additional_variation_images_script,v=d.tfClass("woocommerce-ordering")[0],h=function(){this.closest("form").submit()},a=d.querySelectorAll("input.qty[min]"),k=e=>!e.includes("ver=",12)&&o,r=async e=>{if(f.photoswipe){e.preventDefault(),e.stopImmediatePropagation();const t=e.currentTarget;await Promise.all([n.loadCss(f.photoswipe.main,null,o),n.loadCss(f.photoswipe.skin,null,o)]),setTimeout(()=>{t.click()},5)}},i=async(t,o,a,c)=>{const i=f.wc_js,e=t&&!0!==t,r=e=>{delete i[e],0===Object.keys(i).length&&(n.body.off("click.tf_wc_click").off("added_to_cart removed_from_cart",j),v?.tfOff("change",h,{passive:!0,once:!0}),setTimeout(()=>{if(t&&!0!==t&&"load"!==t)if("click"===t.type)for(let e=0,t=g.length;e<t;++e)g[e].isConnected&&g[e].click();else n.body.triggerHandler(t.type,[o,a,c]);g=null,n.trigger("tf_wc_js_load")},5))},s=async()=>{i.woocommerce&&await n.loadJs(i.woocommerce,$.scroll_to_notices!==p,k(i.woocommerce)),r("woocommerce")},l=async()=>{const t=d.tfClass("variations_form");if(t[0]||0<d.tfClass("wcpa_form_outer").length){y&&n.loadJs(y,$.wc_additional_variation_images_frontend!==p,k(y)),await n.loadJs(n.includesURL+"js/underscore.min",void 0!==_._,f.wp),await Promise.all([n.loadJs(n.includesURL+"js/wp-util.min",_.wp!==p&&p!==_.wp.template,f.wp),n.loadJs(u,void 0!==$.fn.wc_variation_form,k(u))]);for(let e=t.length-1;-1<e;--e)$(t[e]).wc_variation_form();m&&w&&n.triggerEvent(m,"change"),m=w=null}};!0===e&&(i["jquery-blockui"]&&n.loadJs(i["jquery-blockui"],$.blockUI===p,k(i["jquery-blockui"])).then(()=>{r("jquery-blockui")}),i["wc-add-to-cart"]?n.loadJs(i["wc-add-to-cart"],f.wc_js_normal!==p,k(i["wc-add-to-cart"])).then(()=>{r("wc-add-to-cart"),l()}):l(),i["wc-single-product"]&&!$.fn.wc_product_gallery&&"undefined"!=typeof wc_single_product_params?n.loadJs(i["wc-single-product"],$.fn.wc_product_gallery!==p,k(i["wc-single-product"])).then(()=>{r("wc-single-product"),n.trigger("tf_init_photoswipe")}):delete i["wc-single-product"]),i["js-cookie"]&&(await n.loadJs(i["js-cookie"],!!_.Cookies,k(i["js-cookie"])),i["wc-cart-fragments"]&&await n.loadJs(i["wc-cart-fragments"],f.wc_js_normal!==p,k(i["wc-cart-fragments"])),r("js-cookie"),r("wc-cart-fragments"),!0!==e)||s()},j=(e,t,o,a)=>{!1===c&&(c=!0,i(e,t,o,a))};if(n.body.one("added_to_cart removed_from_cart",j).on("click.tf_wc_click",".ajax_add_to_cart,.remove_from_cart_button",e=>{e.preventDefault(),e.stopImmediatePropagation(),e.target.classList.contains("loading")||(g.push(e.target),e.target.classList.add("loading")),!1===c&&(c=!0,i(e))}),null!==m){const t=e=>{w||(_.tfOff("scroll pointermove",t,{once:!0,passive:!0}),m?.tfOff("change",t,{once:!0,passive:!0}),"change"===e?.type&&e.stopImmediatePropagation(),!1===c&&(c=w=!0,i("load")))};_.tfOn("scroll pointermove",t,{once:!0,passive:!0}),m.tfOn("change",t,{once:!0,passive:!0}),m.value&&n.requestIdleCallback(t,1500)}v?.tfOn("change",h,{passive:!0,once:!0});for(let t=a.length-1;-1<t;--t){let e=parseFloat(a[t].min);0<=e&&parseFloat(a[t].value)<e&&(a[t].value=e)}delete f.wc_js["wc-add-to-cart-variation"],delete f.wc_js.wc_additional_variation_images_script,n.on("tf_wc_init",e=>{!0===e||null!==d.querySelector(".woocommerce-input-wrapper,.woocommerce-store-notice")?i("load"):i(!0),(async()=>{const e=d.tfClass("tf_wc_accordion")[0];e&&(await n.loadJs("wc-accordion-tabs"),n.trigger("tf_wc_acc_tabs_init",[e]))})(),n.trigger("tf_init_photoswipe")}).on("tf_init_photoswipe",e=>{if($.fn.wc_product_gallery&&"undefined"!=typeof wc_single_product_params)if(wc_single_product_params.photoswipe_enabled)for(let c=(e=e||d).tfClass("woocommerce-product-gallery"),i=c.length-1;-1<i;--i){let t=$(c[i]),e=c[i].tfClass("woocommerce-product-gallery__trigger")[0];if(!t.data("product_gallery")){t.wc_product_gallery(wc_single_product_params);let e=t.data("flexslider");e&&setTimeout(()=>{e.resize()},100)}e?.tfOn(n.click,r,{once:!0});let o=c[i].tfClass("woocommerce-product-gallery__image"),a="function"==typeof $.fn.flexslider&&wc_single_product_params.flexslider_enabled&&1<o.length;a||1!==o.length||o[0].tfTag("a")[0]?.tfOn(n.click,r,{once:!0})}else n.off("tf_init_photoswipe")}).trigger("tf_init_photoswipe")})(jQuery,Themify,document,window,themify_vars,void 0);