(l=>{"use strict";let n,i=null,s=null,o=null;const r=new Set,c=new Set,a=e=>{const t=tbLocalScript.breakpoints;let n="desktop";return e<=t.mobile?n="mobile":e<=t.tablet[1]?n="tablet":e<=t.tablet_landscape[1]&&(n="tablet_landscape"),n},d=e=>"zooming"===getComputedStyle(e).getPropertyValue("--tbBg"),u=(i,s)=>{const a=e=>{const t=e.currentTarget;t.style.transition="",t.tfOff("transitionend transitioncancel",a,{passive:!0,once:!0})};for(let n=i.length-1;-1<n;--n){let e=i[n],t=e.target.style;e.target.isConnected?e.isIntersecting&&(e.target.tfOn("transitionend transitioncancel",a,{passive:!0,once:!0}),t.transition="background-size 1.5s ease-in",t.backgroundSize="100%",s.unobserve(e.target)):(t.transition=t.backgroundSize="",r.delete(e.target),c.delete(e.target),s.unobserve(e.target))}!1===l.is_builder_active&&0===c.size&&0===r.size&&(l.off("tfsmartresize",b),o.disconnect(),o=null)},b=t=>{t&&(s&&clearTimeout(s),s=setTimeout(()=>{i&&cancelAnimationFrame(i),i=requestAnimationFrame(()=>{const e=a(t.w);if(e!==n){n=e;for(let e of r)e.isConnected?d(e)?(e.style.backgroundSize="",o.observe(e)):(e.classList.contains("builder-parallax-scrolling")||e.classList.contains("builder-zoom-scrolling")||(e.style.backgroundSize=""),o.unobserve(e),c.add(e),r.delete(e)):r.delete(e);for(let e of c)e.isConnected?d(e)&&(e.style.backgroundSize="",r.add(e),c.delete(e),o.observe(e)):c.delete(e);!1===l.is_builder_active&&0===c.size&&0===r.size&&(l.off("tfsmartresize",b),o.disconnect(),o=null),i=s=null}})},80))};l.on("builder_load_module_partial",(e,t)=>{let n;if(!0===t){if(!e.hasAttribute("data-zooming-bg"))return;n=[e]}else n=l.selectWithParent("[data-zooming-bg]",e);if(0<n.length){null===o&&(o=new IntersectionObserver(u,{threshold:.3}),l.on("tfsmartresize",b));for(let e=n.length-1;-1<e;--e)!1===l.is_builder_active&&n[e].removeAttribute("data-zooming-bg"),d(n[e])?(r.add(n[e]),o.observe(n[e])):c.add(n[e])}})})(Themify);