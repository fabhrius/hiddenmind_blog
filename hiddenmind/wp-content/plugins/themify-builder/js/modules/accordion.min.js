(($,f,i,u)=>{"use strict";let o=!1;const r=ThemifyBuilderModuleJs.cssUrl+"accordion_styles/",c=()=>{const e=u.location.hash.replace("#","");""!==e&&"#"!==e&&i.querySelector('.module-accordion [data-id="'+e+'"]')&&i.querySelector('.accordion-title a[href="#'+e+'"]')?.click()};f.on("builder_load_module_partial",(e,a)=>{if(!0!==a||e.classList.contains("module-accordion")){const t=f.selectWithParent("module-accordion",e);for(let a=t.length-1;-1<a;--a){let e=t[a].classList;e.contains("separate")&&f.loadCss(r+"separate","tb_accordion_separate"),e.contains("transparent")&&f.loadCss(r+"transparent","tb_accordion_transparent")}!1===o&&(o=!0,u.tfOn("hashchange",c,{passive:!0}),f.requestIdleCallback(()=>{(()=>{i.body.tfOn("click",e=>{const a=e.target?e.target.closest(".accordion-title"):null;if(a){e.preventDefault(),e.stopPropagation();const t=$(a),i=t.next(),o=t.closest("li"),r=o.parent(),c=r[0].parentNode.hasAttribute("data-hashtag"),d=o.find(">.accordion-title .accordion-active-icon"),s=o.find(">.accordion-title .accordion-icon"),n=r.closest(".module-accordion[data-behavior]").data("behavior"),l=o.toggleClass("current").siblings().removeClass("current");if(r[0].classList.add("tf-init-accordion"),"accordion"===n&&(l.find(".accordion-content").slideUp().closest("li").removeClass("builder-accordion-active"),l.find(".accordion-title > a").attr("aria-expanded","false"),l.find(">.accordion-title .accordion-icon").removeClass("tf_hide").end().find(">.accordion-title .accordion-active-icon").addClass("tf_hide")),o.hasClass("builder-accordion-active"))d.addClass("tf_hide"),s.removeClass("tf_hide"),i.slideUp(),o.removeClass("builder-accordion-active").find(">.accordion-title > a").attr("aria-expanded","false"),i.attr("aria-hidden","true"),!0===c&&u.location.hash===e.target.closest("a").getAttribute("href")&&u.history.pushState("","",u.location.pathname);else{d.removeClass("tf_hide"),s.addClass("tf_hide"),o.addClass("builder-accordion-active"),i.slideDown(),o.find(">.accordion-title > a").attr("aria-expanded","true"),i.attr("aria-hidden","false");const h=!!i.hasClass("default-closed")&&i.find(".themify_map");if(h)for(let e=h.length-1;-1<e;--e){let a=$(h[e]).data("gmap_object");if(void 0===a.already_centered||a.already_centered||(a.already_centered=!1),!a.already_centered){let e=a.getCenter();google.maps.event.trigger(a,"resize"),a.setCenter(e),a.already_centered=!0}}!0===c&&u.history.pushState(null,null,e.target.closest("a").getAttribute("href"))}f.trigger("tb_accordion_switch",[i]),$(u).triggerHandler("resize")}})})(),c()},-1,500))}})})(jQuery,Themify,document,window);